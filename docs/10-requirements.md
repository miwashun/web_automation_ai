# 10. 要件（KPI含む）

## 0. 概要（抜粋）
- プロジェクト名：Web自動操作AI
- 想定ユーザー：個人利用（将来SaaS化を検討）
- 成功指標（KPI）
  - 可用性/成功率：月次レポート自動取得成功率 ≥ **99%**
  - 性能：平均実行時間 ≤ **3分**
  - セキュリティ：資格情報のLLM非流出（**ゼロ漏えい**）
  - コスト：月額インフラコスト ≤ **¥3,000**（目安）
  - 保守性：Site Profile更新の平均工数 ≤ **2時間**（MTTR）

### KPI詳細（PoC向け）

| KPI項目            | 測定方法       | 目標値        | 備考 |
|---------------------|----------------|---------------|------|
| 自動化シナリオ数    | DSL定義数      | 10シナリオ以上 | MyTokyoGas対象 |
| 手作業工数削減率    | 工数比較       | 30%以上削減    | 手動と比較 |
| 実行成功率          | 実行ログ解析   | 95%以上        | CI/CDテスト含む |
| 平均応答時間        | Playwright計測 | 3秒以内        | 初回PoC対象範囲 |

## 1.1 機能要件
- 自然言語の指示を解析し、操作計画（Action Plan）を生成
- サイトごとのログイン（ID/Pass、2FA、SSO）
- 指定ファイル（CSV/XLSX/PDFなど）のダウンロード
- ダウンロード完了検知（存在・サイズ・ハッシュ）
- エラー/リトライ/レート制御/プロキシ切替
- 成果物の保存（ローカル/オブジェクトストレージ/S3等）
- 実行ログ・監査証跡（操作ステップ、DOMスナップショット、HTTPログ）

## 1.2 非機能要件
- セキュリティ（秘密情報、2FA、権限分離、ゼロトラスト）
- コンプライアンス（ToS、robots.txt、個人情報）
- 可観測性（構造化ログ、メトリクス、アラート）
- スケーラビリティ（並列実行、キュー、ワーカー）
- コスト（実行あたりコスト、ブラウザインスタンス最適化、月額上限）
